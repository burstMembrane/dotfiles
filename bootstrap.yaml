system:
  packages:
    - sudo
    - zsh
    - build-essential
    - git
    - wget
    - unzip
    - tmux
    - ripgrep
    - bat
    - curl
    - vim
    - fd-find
    - fonts-powerline
    - locales
    - less
    - python3
    - python3-pip
    - python-is-python3
    - dpkg
    - apt-utils
    - git-delta
    - zoxide

tools:
  neovim:
    check_command: nvim
    install:
      - bash "$HOME/dotfiles/scripts/install-neovim.sh"
    add_to_path:
      - "$HOME/.local/bin"

  uv:
    check_path: $HOME/.local/bin/uv
    install:
      - curl -fsSL https://astral.sh/uv/install.sh | sh

  zoxide:
    check_command: zoxide
    add_to_shell:
      - eval "$(zoxide init zsh)"

  rust:
    check_path: $HOME/.cargo/bin/rustc
    install:
      - bash "$HOME/dotfiles/scripts/install-rust.sh"
    add_to_shell:
      - . "$HOME/.cargo/env"

  fzf:
    check_path: "$HOME/.fzf"
    install:
      - bash "$HOME/dotfiles/scripts/install-fzf.sh"
    add_to_path:
      - "$HOME/.fzf/bin"

  skim:
    check_path: "$HOME/.skim"
    install:
      - bash "$HOME/dotfiles/scripts/install-skim.sh"
    add_to_path:
      - "$HOME/.skim/bin"
    add_to_shell:
      - "[ -f ~/.skim/shell/key-bindings.zsh ] && source ~/.skim/shell/key-bindings.zsh"
      - "[ -f ~/.skim/shell/completion.zsh ] && source ~/.skim/shell/completion.zsh"

  oh-my-zsh:
    check_path: "$HOME/.oh-my-zsh/oh-my-zsh.sh"
    install:
      - curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh | bash

  zsh-plugins:
    check_path: "$HOME/.oh-my-zsh/custom/plugins/zsh-autosuggestions"
    install:
      - bash "$HOME/dotfiles/scripts/install-zsh-plugins.sh"

  tmux_plugin_manager:
    check_path: "$HOME/.tmux/plugins/tpm"
    install:
      - git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm

  vim_theme:
    check_path: "$HOME/.vim/pack/themes/start/vim-code-dark"
    install:
      - mkdir -p ~/.vim/pack/themes/start
      - git clone https://github.com/tomasiser/vim-code-dark $HOME/.vim/pack/themes/start/vim-code-dark

  nvm:
    check_path: $HOME/.nvm/nvm.sh
    install:
      - curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.1/install.sh | sh
    add_to_shell:
      - 'export NVM_DIR="$HOME/.nvm"'
      - '[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"'
      - '[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"'

  gnu_stow:
    check_command: stow
    install:
      - bash "$HOME/dotfiles/scripts/install-gnu-stow.sh"

paths:
  - $HOME/.local/bin
  - $HOME/.tmux/plugins/tmux-session-wizard/bin

symlinks:
  - source: /usr/bin/batcat
    target: "$HOME/.local/bin/bat"

env:
  - EDITOR=$HOME/.local/bin/nvim
  - SUDO_EDITOR=$EDITOR

locale: en_AU.UTF-8

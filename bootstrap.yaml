system:
  packages:
    - build-essential
    - git
    - wget
    - unzip
    - zsh
    - tmux
    - ripgrep
    - bat
    - curl
    - vim
    - fd-find
    - fonts-powerline
    - locales
    - less

tools:
  cryptr:
    check_command: cryptr
    install:
      - git clone https://github.com/nodesocket/cryptr.git
      - ln -s "$PWD/cryptr/cryptr.bash" "$HOME/.local/bin/cryptr"
  neovim:
    check_command: nvim
    install:
      - curl -LO "https://github.com/neovim/neovim/releases/latest/download/nvim-linux-${ARCH}.tar.gz"
      - sudo mkdir -p "$HOME/.local/bin"
      - sudo tar -C "$HOME/.local/bin" -xzf "nvim-linux-${ARCH}.tar.gz"
      - add_to_path "$HOME/.local/bin"
    post_install:
      - nvim --version
  uv:
    check_command: uv
    skip_in_docker: true
    install:
      - curl -fsSL https://astral.sh/uv/install.sh | sh

  fzf:
    check_path: "$HOME/.fzf"
    install:
      - git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf
      - ~/.fzf/install
    post_install:
      - fzf --version

  oh-my-zsh:
    check_path: "$HOME/.oh-my-zsh"
    install:
      - curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh | bash
    post_install:
      - chsh -s $(which zsh)

  zsh-autosuggestions:
    check_path: "$ZSH_CUSTOM"
    install: 
      - git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
  zsh-syntax-highlighting:
    check_path: "$ZSH_CUSTOM"
    install:
      - git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting

  zsh-vi-mode:
    check_path: "$ZSH_CUSTOM"
    install:
      - git clone https://github.com/jeffreytse/zsh-vi-mode   ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-vi-mode

  tmux_plugin_manager:
    check_path: "$HOME/.tmux/plugins/tpm"
    install:
      - git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm
  
  vim_theme:
    check_path: "$HOME/.vim/pack/themes/start/vim-code-dark"
    install:
      - mkdir -p ~/.vim/pack/themes/start
      - cd ~/.vim/pack/themes/start && git clone https://github.com/tomasiser/vim-code-dark

  gnu_stow:
    check_command: stow
    install:
      - curl -fsSL http://ftp.gnu.org/gnu/stow/stow-2.4.1.tar.gz -o stow-2.4.1.tar.gz
      - tar -xzf stow-2.4.1.tar.gz
      - cd stow-2.4.1
      - ./configure
      - make
      - sudo make install
    cleanup:
      - cd "$HOME"
      - rm -rf stow-2.4.1 stow-2.4.1.tar.gz

paths:
  - "$HOME/.local/bin"
  - "/opt/nvim-linux-${ARCH}/bin"

symlinks:
  - source: /usr/bin/batcat
    target: "$HOME/.local/bin/bat"

locale: en_AU.UTF-8
